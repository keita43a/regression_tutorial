<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Rを使ってみる | 武蔵大生のためのRによる実証分析入門</title>
  <meta name="description" content="Rと計量経済学を用いた基本的な実証分析を説明する資料" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Rを使ってみる | 武蔵大生のためのRによる実証分析入門" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Rと計量経済学を用いた基本的な実証分析を説明する資料" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Rを使ってみる | 武蔵大生のためのRによる実証分析入門" />
  
  <meta name="twitter:description" content="Rと計量経済学を用いた基本的な実証分析を説明する資料" />
  

<meta name="author" content="Keita Abe" />


<meta name="date" content="2024-04-24" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="howtostart.html"/>
<link rel="next" href="packages.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.4.1/leaflet.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R入門</a></li>

<li class="divider"></li>
<li><a href="index.html#この資料について" id="toc-この資料について"><span class="toc-section-number">1</span> この資料について</a></li>
<li><a href="whatsr.html#whatsr" id="toc-whatsr"><span class="toc-section-number">2</span> Rとはなにか？</a>
<ul>
<li><a href="whatsr.html#r" id="toc-r"><span class="toc-section-number">2.1</span> R?</a></li>
<li><a href="whatsr.html#excelじゃだめなのか" id="toc-excelじゃだめなのか"><span class="toc-section-number">2.2</span> Excelじゃだめなのか</a></li>
<li><a href="whatsr.html#rのよいところ" id="toc-rのよいところ"><span class="toc-section-number">2.3</span> Rのよいところ</a></li>
<li><a href="whatsr.html#例えばrでできること図表" id="toc-例えばrでできること図表"><span class="toc-section-number">2.4</span> 例えばRでできること：図表</a></li>
<li><a href="whatsr.html#例えばrでできることウェブアプリ" id="toc-例えばrでできることウェブアプリ"><span class="toc-section-number">2.5</span> 例えばRでできること：ウェブアプリ</a></li>
<li><a href="whatsr.html#例えばrでできることウェブスクレイピング" id="toc-例えばrでできることウェブスクレイピング"><span class="toc-section-number">2.6</span> 例えばRでできること：ウェブスクレイピング</a></li>
<li><a href="whatsr.html#地図の分析活用" id="toc-地図の分析活用"><span class="toc-section-number">2.7</span> 地図の分析・活用</a></li>
<li><a href="whatsr.html#rの欠点" id="toc-rの欠点"><span class="toc-section-number">2.8</span> Rの欠点</a></li>
<li><a href="whatsr.html#cuiとgui" id="toc-cuiとgui"><span class="toc-section-number">2.9</span> CUIとGUI</a>
<ul>
<li><a href="whatsr.html#guiの方が楽" id="toc-guiの方が楽"><span class="toc-section-number">2.9.1</span> GUIの方が楽？</a></li>
</ul></li>
<li><a href="whatsr.html#プログラミング" id="toc-プログラミング"><span class="toc-section-number">2.10</span> プログラミング</a></li>
</ul></li>
<li><a href="howtostart.html#howtostart" id="toc-howtostart"><span class="toc-section-number">3</span> Rのはじめかた</a>
<ul>
<li><a href="howtostart.html#rをどうやって使う" id="toc-rをどうやって使う"><span class="toc-section-number">3.1</span> Rをどうやって使う？</a></li>
<li><a href="howtostart.html#rstudioを使う3つの方法" id="toc-rstudioを使う3つの方法"><span class="toc-section-number">3.2</span> Rstudioを使う3つの方法</a></li>
<li><a href="howtostart.html#rのインストール" id="toc-rのインストール"><span class="toc-section-number">3.3</span> Rのインストール</a>
<ul>
<li><a href="howtostart.html#windownsへのインストール" id="toc-windownsへのインストール"><span class="toc-section-number">3.3.1</span> Windownsへのインストール</a></li>
<li><a href="howtostart.html#mac-osへのインストール" id="toc-mac-osへのインストール"><span class="toc-section-number">3.3.2</span> Mac OSへのインストール</a></li>
</ul></li>
<li><a href="howtostart.html#rstudioのインストール" id="toc-rstudioのインストール"><span class="toc-section-number">3.4</span> Rstudioのインストール</a></li>
<li><a href="howtostart.html#rstudioのインターフェース" id="toc-rstudioのインターフェース"><span class="toc-section-number">3.5</span> Rstudioのインターフェース</a></li>
<li><a href="howtostart.html#コンピュータのディレクトリ構造" id="toc-コンピュータのディレクトリ構造"><span class="toc-section-number">3.6</span> コンピュータのディレクトリ構造</a></li>
<li><a href="howtostart.html#演習作業フォルダを作ろう" id="toc-演習作業フォルダを作ろう"><span class="toc-section-number">3.7</span> <strong>演習</strong>：作業フォルダを作ろう</a>
<ul>
<li><a href="howtostart.html#自分のパソコン" id="toc-自分のパソコン"><span class="toc-section-number">3.7.1</span> 自分のパソコン</a></li>
<li><a href="howtostart.html#学校のパソコン" id="toc-学校のパソコン"><span class="toc-section-number">3.7.2</span> 学校のパソコン</a></li>
<li><a href="howtostart.html#posit.cloud" id="toc-posit.cloud"><span class="toc-section-number">3.7.3</span> Posit.cloud</a></li>
</ul></li>
<li><a href="howtostart.html#作業スペース" id="toc-作業スペース"><span class="toc-section-number">3.8</span> 作業スペース</a></li>
<li><a href="howtostart.html#プロジェクトの作成" id="toc-プロジェクトの作成"><span class="toc-section-number">3.9</span> プロジェクトの作成</a></li>
<li><a href="howtostart.html#演習-rプロジェクトを作成してみよう" id="toc-演習-rプロジェクトを作成してみよう"><span class="toc-section-number">3.10</span> <strong>演習</strong>: Rプロジェクトを作成してみよう</a></li>
<li><a href="howtostart.html#とりあえず触ってみる" id="toc-とりあえず触ってみる"><span class="toc-section-number">3.11</span> とりあえず触ってみる</a></li>
<li><a href="howtostart.html#スクリプトの作成" id="toc-スクリプトの作成"><span class="toc-section-number">3.12</span> スクリプトの作成</a>
<ul>
<li><a href="howtostart.html#演習スクリプトを作成してみる" id="toc-演習スクリプトを作成してみる"><span class="toc-section-number">3.12.1</span> <strong>演習</strong>：スクリプトを作成してみる</a></li>
</ul></li>
<li><a href="howtostart.html#実行してみる" id="toc-実行してみる"><span class="toc-section-number">3.13</span> 実行してみる</a>
<ul>
<li><a href="howtostart.html#コードを実行する際のポイント" id="toc-コードを実行する際のポイント"><span class="toc-section-number">3.13.1</span> コードを実行する際のポイント</a></li>
</ul></li>
<li><a href="howtostart.html#スクリプトを書く際の注意点" id="toc-スクリプトを書く際の注意点"><span class="toc-section-number">3.14</span> スクリプトを書く際の注意点</a>
<ul>
<li><a href="howtostart.html#コメント" id="toc-コメント"><span class="toc-section-number">3.14.1</span> コメント</a></li>
<li><a href="howtostart.html#スクリプトは読みやすく" id="toc-スクリプトは読みやすく"><span class="toc-section-number">3.14.2</span> スクリプトは読みやすく</a></li>
</ul></li>
<li><a href="howtostart.html#エラーを恐れるな" id="toc-エラーを恐れるな"><span class="toc-section-number">3.15</span> エラーを恐れるな！</a>
<ul>
<li><a href="howtostart.html#よくあるエラー1" id="toc-よくあるエラー1"><span class="toc-section-number">3.15.1</span> よくあるエラー1</a></li>
<li><a href="howtostart.html#よくあるエラー2" id="toc-よくあるエラー2"><span class="toc-section-number">3.15.2</span> よくあるエラー2</a></li>
</ul></li>
<li><a href="howtostart.html#rstudioの補完機能" id="toc-rstudioの補完機能"><span class="toc-section-number">3.16</span> Rstudioの補完機能</a></li>
<li><a href="howtostart.html#rstudioのオプション" id="toc-rstudioのオプション"><span class="toc-section-number">3.17</span> Rstudioのオプション</a>
<ul>
<li><a href="howtostart.html#例外観の変更" id="toc-例外観の変更"><span class="toc-section-number">3.17.1</span> 例：外観の変更</a></li>
</ul></li>
</ul></li>
<li><a href="letsuse.html#letsuse" id="toc-letsuse"><span class="toc-section-number">4</span> Rを使ってみる</a>
<ul>
<li><a href="letsuse.html#計算機としてのr" id="toc-計算機としてのr"><span class="toc-section-number">4.1</span> 計算機としてのR</a>
<ul>
<li><a href="letsuse.html#演習r-scriptの作成" id="toc-演習r-scriptの作成"><span class="toc-section-number">4.1.1</span> 演習：R Scriptの作成</a></li>
<li><a href="letsuse.html#足し算" id="toc-足し算"><span class="toc-section-number">4.1.2</span> 足し算</a></li>
<li><a href="letsuse.html#かけ算" id="toc-かけ算"><span class="toc-section-number">4.1.3</span> かけ算</a></li>
<li><a href="letsuse.html#論理演算" id="toc-論理演算"><span class="toc-section-number">4.1.4</span> 論理演算</a></li>
</ul></li>
<li><a href="letsuse.html#プログラミング言語としてのr" id="toc-プログラミング言語としてのr"><span class="toc-section-number">4.2</span> プログラミング言語としてのR</a>
<ul>
<li><a href="letsuse.html#変数へのオブジェクトの代入" id="toc-変数へのオブジェクトの代入"><span class="toc-section-number">4.2.1</span> 変数へのオブジェクトの代入</a></li>
<li><a href="letsuse.html#プログラミング繰り返し" id="toc-プログラミング繰り返し"><span class="toc-section-number">4.2.2</span> プログラミング：繰り返し</a></li>
</ul></li>
<li><a href="letsuse.html#データ型" id="toc-データ型"><span class="toc-section-number">4.3</span> データ型</a>
<ul>
<li><a href="letsuse.html#データ型注意点" id="toc-データ型注意点"><span class="toc-section-number">4.3.1</span> データ型：注意点</a></li>
<li><a href="letsuse.html#データ型の変換" id="toc-データ型の変換"><span class="toc-section-number">4.3.2</span> データ型の変換</a></li>
</ul></li>
<li><a href="letsuse.html#ベクトル" id="toc-ベクトル"><span class="toc-section-number">4.4</span> ベクトル</a>
<ul>
<li><a href="letsuse.html#ベクトルの型" id="toc-ベクトルの型"><span class="toc-section-number">4.4.1</span> ベクトルの型</a></li>
<li><a href="letsuse.html#ベクトル連続した数値" id="toc-ベクトル連続した数値"><span class="toc-section-number">4.4.2</span> ベクトル：連続した数値</a></li>
<li><a href="letsuse.html#練習問題" id="toc-練習問題"><span class="toc-section-number">4.4.3</span> 練習問題</a></li>
<li><a href="letsuse.html#ベクトルを作る関数1" id="toc-ベクトルを作る関数1"><span class="toc-section-number">4.4.4</span> ベクトルを作る関数1</a></li>
<li><a href="letsuse.html#ベクトル要素の参照" id="toc-ベクトル要素の参照"><span class="toc-section-number">4.4.5</span> ベクトル要素の参照</a></li>
</ul></li>
<li><a href="letsuse.html#リスト" id="toc-リスト"><span class="toc-section-number">4.5</span> リスト</a>
<ul>
<li><a href="letsuse.html#リストの参照" id="toc-リストの参照"><span class="toc-section-number">4.5.1</span> リストの参照</a></li>
<li><a href="letsuse.html#リストの参照-1" id="toc-リストの参照-1"><span class="toc-section-number">4.5.2</span> リストの参照</a></li>
</ul></li>
</ul></li>
<li><a href="packages.html#packages" id="toc-packages"><span class="toc-section-number">5</span> パッケージとは</a>
<ul>
<li><a href="packages.html#パッケージについて" id="toc-パッケージについて"><span class="toc-section-number">5.1</span> パッケージについて</a></li>
<li><a href="packages.html#パッケージのインストール" id="toc-パッケージのインストール"><span class="toc-section-number">5.2</span> パッケージのインストール</a></li>
<li><a href="packages.html#よく使うパッケージのインストール" id="toc-よく使うパッケージのインストール"><span class="toc-section-number">5.3</span> よく使うパッケージのインストール</a>
<ul>
<li><a href="packages.html#tidyverseについて" id="toc-tidyverseについて"><span class="toc-section-number">5.3.1</span> Tidyverseについて</a></li>
</ul></li>
<li><a href="packages.html#パッケージの使い方1" id="toc-パッケージの使い方1"><span class="toc-section-number">5.4</span> パッケージの使い方1</a></li>
<li><a href="packages.html#パッケージの使い方2" id="toc-パッケージの使い方2"><span class="toc-section-number">5.5</span> パッケージの使い方2</a></li>
</ul></li>
<li><a href="datahandling.html#datahandling" id="toc-datahandling"><span class="toc-section-number">6</span> データのハンドリング</a>
<ul>
<li><a href="datahandling.html#データ" id="toc-データ"><span class="toc-section-number">6.1</span> データ</a>
<ul>
<li><a href="datahandling.html#データとは" id="toc-データとは"><span class="toc-section-number">6.1.1</span> データとは？</a></li>
<li><a href="datahandling.html#データフレーム" id="toc-データフレーム"><span class="toc-section-number">6.1.2</span> データフレーム</a></li>
<li><a href="datahandling.html#行と列" id="toc-行と列"><span class="toc-section-number">6.1.3</span> 行と列</a></li>
<li><a href="datahandling.html#きれいなデータ" id="toc-きれいなデータ"><span class="toc-section-number">6.1.4</span> きれいなデータ？</a></li>
<li><a href="datahandling.html#データの読み込み" id="toc-データの読み込み"><span class="toc-section-number">6.1.5</span> データの読み込み</a></li>
<li><a href="datahandling.html#演習-データの読み込み" id="toc-演習-データの読み込み"><span class="toc-section-number">6.1.6</span> <strong>演習</strong>: データの読み込み</a></li>
<li><a href="datahandling.html#日本語のデータを読み込む際の注意点" id="toc-日本語のデータを読み込む際の注意点"><span class="toc-section-number">6.1.7</span> 日本語のデータを読み込む際の注意点</a></li>
<li><a href="datahandling.html#readrのその他のオプション" id="toc-readrのその他のオプション"><span class="toc-section-number">6.1.8</span> readrのその他のオプション</a></li>
</ul></li>
<li><a href="datahandling.html#tidy-data-整然データ" id="toc-tidy-data-整然データ"><span class="toc-section-number">6.2</span> tidy data (整然データ)</a></li>
<li><a href="datahandling.html#データフレームを扱うテクニックパイプ" id="toc-データフレームを扱うテクニックパイプ"><span class="toc-section-number">6.3</span> データフレームを扱うテクニック：パイプ</a>
<ul>
<li><a href="datahandling.html#パイプ" id="toc-パイプ"><span class="toc-section-number">6.3.1</span> パイプ</a></li>
</ul></li>
<li><a href="datahandling.html#tidyでないデータとtidyデータの変換" id="toc-tidyでないデータとtidyデータの変換"><span class="toc-section-number">6.4</span> tidyでないデータとtidyデータの変換</a>
<ul>
<li><a href="datahandling.html#long型データへの変換" id="toc-long型データへの変換"><span class="toc-section-number">6.4.1</span> long型データへの変換</a></li>
<li><a href="datahandling.html#データを見てみる" id="toc-データを見てみる"><span class="toc-section-number">6.4.2</span> データを見てみる</a></li>
<li><a href="datahandling.html#データを一部だけみたい場合" id="toc-データを一部だけみたい場合"><span class="toc-section-number">6.4.3</span> データを一部だけみたい場合</a></li>
</ul></li>
<li><a href="datahandling.html#データの大きさ" id="toc-データの大きさ"><span class="toc-section-number">6.5</span> データの「大きさ」</a></li>
<li><a href="datahandling.html#列の名前一覧" id="toc-列の名前一覧"><span class="toc-section-number">6.6</span> 列の名前一覧</a></li>
<li><a href="datahandling.html#変数の要約" id="toc-変数の要約"><span class="toc-section-number">6.7</span> 変数の要約</a></li>
<li><a href="datahandling.html#変数の取り出し" id="toc-変数の取り出し"><span class="toc-section-number">6.8</span> 変数の取り出し</a></li>
<li><a href="datahandling.html#変数の取り出しと計算" id="toc-変数の取り出しと計算"><span class="toc-section-number">6.9</span> 変数の取り出しと計算</a></li>
<li><a href="datahandling.html#データフレームとtibble" id="toc-データフレームとtibble"><span class="toc-section-number">6.10</span> データフレームとtibble</a></li>
<li><a href="datahandling.html#データの操作" id="toc-データの操作"><span class="toc-section-number">6.11</span> データの操作</a>
<ul>
<li><a href="datahandling.html#データの操作-1" id="toc-データの操作-1"><span class="toc-section-number">6.11.1</span> データの操作</a></li>
<li><a href="datahandling.html#元のデータの見た目確認" id="toc-元のデータの見た目確認"><span class="toc-section-number">6.11.2</span> 元のデータの見た目確認</a></li>
<li><a href="datahandling.html#列の名前を変えたい-rename" id="toc-列の名前を変えたい-rename"><span class="toc-section-number">6.11.3</span> 列の名前を変えたい: rename()</a></li>
<li><a href="datahandling.html#特定の列だけ抽出する-select" id="toc-特定の列だけ抽出する-select"><span class="toc-section-number">6.11.4</span> 特定の列だけ抽出する: select()</a></li>
<li><a href="datahandling.html#特定の列だけ抽出する-filter" id="toc-特定の列だけ抽出する-filter"><span class="toc-section-number">6.11.5</span> 特定の列だけ抽出する: filter()</a></li>
<li><a href="datahandling.html#データの順番を並び替える-arrange" id="toc-データの順番を並び替える-arrange"><span class="toc-section-number">6.11.6</span> データの順番を並び替える: arrange()</a></li>
<li><a href="datahandling.html#データの順番を並び替える-arrange-1" id="toc-データの順番を並び替える-arrange-1"><span class="toc-section-number">6.11.7</span> データの順番を並び替える: arrange()</a></li>
<li><a href="datahandling.html#データの列を並び替える-relocate" id="toc-データの列を並び替える-relocate"><span class="toc-section-number">6.11.8</span> データの列を並び替える: relocate()</a></li>
<li><a href="datahandling.html#データの列を並び替える-relocate-1" id="toc-データの列を並び替える-relocate-1"><span class="toc-section-number">6.11.9</span> データの列を並び替える: relocate()</a></li>
<li><a href="datahandling.html#データの列を追加編集する-mutate" id="toc-データの列を追加編集する-mutate"><span class="toc-section-number">6.11.10</span> データの列を追加/編集する: mutate()</a></li>
<li><a href="datahandling.html#データの列を追加編集する-mutate-1" id="toc-データの列を追加編集する-mutate-1"><span class="toc-section-number">6.11.11</span> データの列を追加/編集する: mutate()</a></li>
<li><a href="datahandling.html#データを集計する" id="toc-データを集計する"><span class="toc-section-number">6.11.12</span> データを集計する</a></li>
<li><a href="datahandling.html#データ操作の応用パイプによる引き渡し" id="toc-データ操作の応用パイプによる引き渡し"><span class="toc-section-number">6.11.13</span> データ操作の応用：パイプによる引き渡し</a></li>
<li><a href="datahandling.html#データ操作の応用グループごとの集計" id="toc-データ操作の応用グループごとの集計"><span class="toc-section-number">6.11.14</span> データ操作の応用：グループごとの集計</a></li>
</ul></li>
<li><a href="datahandling.html#演習-データ操作" id="toc-演習-データ操作"><span class="toc-section-number">6.12</span> <strong>演習</strong>: データ操作</a>
<ul>
<li><a href="datahandling.html#データ操作練習問題" id="toc-データ操作練習問題"><span class="toc-section-number">6.12.1</span> データ操作：練習問題</a></li>
<li><a href="datahandling.html#データ操作練習問題-1" id="toc-データ操作練習問題-1"><span class="toc-section-number">6.12.2</span> データ操作：練習問題</a></li>
</ul></li>
<li><a href="datahandling.html#データの結合" id="toc-データの結合"><span class="toc-section-number">6.13</span> データの結合</a>
<ul>
<li><a href="datahandling.html#データの縦の結合" id="toc-データの縦の結合"><span class="toc-section-number">6.13.1</span> データの縦の結合</a></li>
<li><a href="datahandling.html#データを横に統合" id="toc-データを横に統合"><span class="toc-section-number">6.13.2</span> データを横に統合</a></li>
<li><a href="datahandling.html#データを横に統合join関数" id="toc-データを横に統合join関数"><span class="toc-section-number">6.13.3</span> データを横に統合：join()関数</a></li>
<li><a href="datahandling.html#join関数一覧" id="toc-join関数一覧"><span class="toc-section-number">6.13.4</span> join関数一覧</a></li>
</ul></li>
</ul></li>
<li><a href="rstats.html#rstats" id="toc-rstats"><span class="toc-section-number">7</span> 統計のおさらい</a>
<ul>
<li><a href="rstats.html#データとは-1" id="toc-データとは-1"><span class="toc-section-number">7.1</span> データとは？</a></li>
<li><a href="rstats.html#統計量とはなにか" id="toc-統計量とはなにか"><span class="toc-section-number">7.2</span> 統計量とはなにか</a>
<ul>
<li><a href="rstats.html#統計量" id="toc-統計量"><span class="toc-section-number">7.2.1</span> 統計量</a></li>
<li><a href="rstats.html#平均" id="toc-平均"><span class="toc-section-number">7.2.2</span> 平均</a></li>
<li><a href="rstats.html#分散" id="toc-分散"><span class="toc-section-number">7.2.3</span> 分散</a></li>
<li><a href="rstats.html#もう一つの分散" id="toc-もう一つの分散"><span class="toc-section-number">7.2.4</span> もう一つの分散</a></li>
<li><a href="rstats.html#母集団と標本" id="toc-母集団と標本"><span class="toc-section-number">7.2.5</span> 母集団と標本</a></li>
<li><a href="rstats.html#サンプリング" id="toc-サンプリング"><span class="toc-section-number">7.2.6</span> サンプリング</a></li>
<li><a href="rstats.html#共分散" id="toc-共分散"><span class="toc-section-number">7.2.7</span> 共分散</a></li>
<li><a href="rstats.html#相関係数" id="toc-相関係数"><span class="toc-section-number">7.2.8</span> 相関係数</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">武蔵大生のためのRによる実証分析入門</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="letsuse" class="section level1" number="4">
<h1><span class="header-section-number">Chapter 4</span> Rを使ってみる</h1>
<div id="計算機としてのr" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> 計算機としてのR</h2>
<div id="演習r-scriptの作成" class="section level3" number="4.1.1">
<h3><span class="header-section-number">4.1.1</span> 演習：R Scriptの作成</h3>
<ul>
<li><code>r_renshu</code>プロジェクトを開く。</li>
<li>新たに<code>r_trial.R</code>という名前のRスクリプトを作成しよう。</li>
<li>以下の演算をそのスクリプトに書いて実行してみよう。</li>
</ul>
</div>
<div id="足し算" class="section level3" number="4.1.2">
<h3><span class="header-section-number">4.1.2</span> 足し算</h3>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="letsuse.html#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">+</span> <span class="dv">1</span></span></code></pre></div>
<pre><code>## [1] 2</code></pre>
</div>
<div id="かけ算" class="section level3" number="4.1.3">
<h3><span class="header-section-number">4.1.3</span> かけ算</h3>
<p>掛け算はアスタリスク(*)を使う。</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="letsuse.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="sc">*</span> <span class="dv">3</span></span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<p>割り算はスラッシュ(/)を使う</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="letsuse.html#cb19-1" aria-hidden="true" tabindex="-1"></a>(<span class="dv">2</span><span class="sc">+</span><span class="dv">7</span>)<span class="sc">/</span><span class="dv">3</span></span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p>割り切れない場合はある程度まで桁が表示</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="letsuse.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span><span class="sc">/</span><span class="dv">3</span></span></code></pre></div>
<pre><code>## [1] 3.333333</code></pre>
</div>
<div id="論理演算" class="section level3" number="4.1.4">
<h3><span class="header-section-number">4.1.4</span> 論理演算</h3>
<p>論理演算は書いてあることが真か偽か？を評価する。</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="letsuse.html#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 「10は5より大きい」という命題は正しい？</span></span>
<span id="cb23-2"><a href="letsuse.html#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> <span class="sc">&gt;</span> <span class="dv">5</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="letsuse.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 「等しい」は=が2つ == </span></span>
<span id="cb25-2"><a href="letsuse.html#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;musashi&quot;</span> <span class="sc">==</span> <span class="st">&quot;musashi&quot;</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="letsuse.html#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;musashi&quot;</span> <span class="sc">==</span> <span class="st">&quot;634&quot;</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
</div>
</div>
<div id="プログラミング言語としてのr" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> プログラミング言語としてのR</h2>
<div id="変数へのオブジェクトの代入" class="section level3" number="4.2.1">
<h3><span class="header-section-number">4.2.1</span> 変数へのオブジェクトの代入</h3>
<p>x や yという「入れ物」に数字を代入する。</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="letsuse.html#cb29-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">8</span></span>
<span id="cb29-2"><a href="letsuse.html#cb29-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb29-3"><a href="letsuse.html#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="letsuse.html#cb29-4" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> x <span class="sc">+</span> y</span>
<span id="cb29-5"><a href="letsuse.html#cb29-5" aria-hidden="true" tabindex="-1"></a>z</span></code></pre></div>
<pre><code>## [1] 11</code></pre>
</div>
<div id="プログラミング繰り返し" class="section level3" number="4.2.2">
<h3><span class="header-section-number">4.2.2</span> プログラミング：繰り返し</h3>
<p>同じような作業を繰り返させる。
以下のケースでは、<span class="math inline">\(i\)</span>というオブジェクトに1から10までを順番に入れて、それぞれのターンにおいて<span class="math inline">\(i+1\)</span>という数字を<code>print()</code>という関数でコンソールに表示させている。つまり、同じ作業を10回中身を変えてやりたいときに、<code>print(1+1), print(2+1)...</code>というように、何度も同じ文を書く必要がない。</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="letsuse.html#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>){</span>
<span id="cb31-2"><a href="letsuse.html#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(i<span class="sc">+</span><span class="dv">1</span>)</span>
<span id="cb31-3"><a href="letsuse.html#cb31-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] 2
## [1] 3
## [1] 4
## [1] 5
## [1] 6
## [1] 7
## [1] 8
## [1] 9
## [1] 10
## [1] 11</code></pre>
</div>
</div>
<div id="データ型" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> データ型</h2>
<p>Rのオブジェクトにはいくつかの「型」がある。そのオブジェクトに格納されている要素がどういう性質を持つか？が定義される。これを、データ型と呼ぶ。
たとえば、数字なのか文字列なのか？で扱いが異なる。</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="letsuse.html#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 実数</span></span>
<span id="cb33-2"><a href="letsuse.html#cb33-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">634</span></span>
<span id="cb33-3"><a href="letsuse.html#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mode</span>(x)</span></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="letsuse.html#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 文字列</span></span>
<span id="cb35-2"><a href="letsuse.html#cb35-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="st">&quot;musashi&quot;</span></span>
<span id="cb35-3"><a href="letsuse.html#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mode</span>(y)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div id="データ型注意点" class="section level3" number="4.3.1">
<h3><span class="header-section-number">4.3.1</span> データ型：注意点</h3>
<p>我々の目には同じ634であっても、データ型が文字列として定義されていると、コンピューターは計算ができない。ただ6.3.4.と書かれている文字であって、数字ではないという認識がなされるからである。</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="letsuse.html#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 数字だが文字列</span></span>
<span id="cb37-2"><a href="letsuse.html#cb37-2" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="st">&quot;634&quot;</span></span>
<span id="cb37-3"><a href="letsuse.html#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mode</span>(z)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="letsuse.html#cb39-1" aria-hidden="true" tabindex="-1"></a>z <span class="sc">+</span> <span class="dv">6</span></span></code></pre></div>
<pre><code>## Error in z + 6: non-numeric argument to binary operator</code></pre>
</div>
<div id="データ型の変換" class="section level3" number="4.3.2">
<h3><span class="header-section-number">4.3.2</span> データ型の変換</h3>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="letsuse.html#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># データ型のチェック</span></span>
<span id="cb41-2"><a href="letsuse.html#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mode</span>(z)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="letsuse.html#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 実数かどうか？</span></span>
<span id="cb43-2"><a href="letsuse.html#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="fu">is.numeric</span>(z)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="letsuse.html#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># データ型を実数に変換して再度zに代入</span></span>
<span id="cb45-2"><a href="letsuse.html#cb45-2" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(z)</span>
<span id="cb45-3"><a href="letsuse.html#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 再度チェック</span></span>
<span id="cb45-4"><a href="letsuse.html#cb45-4" aria-hidden="true" tabindex="-1"></a><span class="fu">is.numeric</span>(z)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
</div>
</div>
<div id="ベクトル" class="section level2" number="4.4">
<h2><span class="header-section-number">4.4</span> ベクトル</h2>
<p>順序のある要素の集まりをベクトルと呼ぶ。
<code>c()</code>関数で作成することができる。</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="letsuse.html#cb47-1" aria-hidden="true" tabindex="-1"></a>v1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>)</span>
<span id="cb47-2"><a href="letsuse.html#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(v1)</span></code></pre></div>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<p>ベクトルは、文字や論理値など取ることができる。</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="letsuse.html#cb49-1" aria-hidden="true" tabindex="-1"></a>v2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;musashi&quot;</span>,<span class="st">&quot;nerima&quot;</span>,<span class="st">&quot;ekoda&quot;</span>)</span>
<span id="cb49-2"><a href="letsuse.html#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(v2)</span></code></pre></div>
<pre><code>## [1] &quot;musashi&quot; &quot;nerima&quot;  &quot;ekoda&quot;</code></pre>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="letsuse.html#cb51-1" aria-hidden="true" tabindex="-1"></a>v3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">FALSE</span>,<span class="cn">TRUE</span>,<span class="cn">TRUE</span>,<span class="cn">FALSE</span>)</span>
<span id="cb51-2"><a href="letsuse.html#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(v3)</span></code></pre></div>
<pre><code>## [1] FALSE  TRUE  TRUE FALSE</code></pre>
<div id="ベクトルの型" class="section level3" number="4.4.1">
<h3><span class="header-section-number">4.4.1</span> ベクトルの型</h3>
<p>異なるデータ型を同じベクトルに混ぜることはできない。
混ぜると、一定のルールに基づいてある型が他の型より優先される</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="letsuse.html#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 数値と論理値を混ぜると、数値になる。(FALSE-&gt;0, TRUE-&gt;1)</span></span>
<span id="cb53-2"><a href="letsuse.html#cb53-2" aria-hidden="true" tabindex="-1"></a>v4 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">FALSE</span>,<span class="dv">1</span>,<span class="cn">TRUE</span>)</span>
<span id="cb53-3"><a href="letsuse.html#cb53-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(v4) </span></code></pre></div>
<pre><code>## [1] 0 1 1</code></pre>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="letsuse.html#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 数値と論理値と文字列を混ぜると、全部文字列になる</span></span>
<span id="cb55-2"><a href="letsuse.html#cb55-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-3"><a href="letsuse.html#cb55-3" aria-hidden="true" tabindex="-1"></a>v5 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">FALSE</span>,<span class="dv">1</span>,<span class="st">&quot;musashi&quot;</span>)</span>
<span id="cb55-4"><a href="letsuse.html#cb55-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(v5)</span></code></pre></div>
<pre><code>## [1] &quot;FALSE&quot;   &quot;1&quot;       &quot;musashi&quot;</code></pre>
</div>
<div id="ベクトル連続した数値" class="section level3" number="4.4.2">
<h3><span class="header-section-number">4.4.2</span> ベクトル：連続した数値</h3>
<p>連続した数値を入力したい場合はコロン<code>:</code>を使う</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="letsuse.html#cb57-1" aria-hidden="true" tabindex="-1"></a>v6 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb57-2"><a href="letsuse.html#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(v6)</span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<p>nずつ増える数列を作りたい場合は、<code>seq()</code>関数を使う</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="letsuse.html#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 例：2から50まで２ずつ増える数列</span></span>
<span id="cb59-2"><a href="letsuse.html#cb59-2" aria-hidden="true" tabindex="-1"></a>v7 <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">2</span>,<span class="dv">50</span>,<span class="at">by=</span><span class="dv">2</span>)</span></code></pre></div>
</div>
<div id="練習問題" class="section level3" number="4.4.3">
<h3><span class="header-section-number">4.4.3</span> 練習問題</h3>
<p>3から60まで3ずつ増える数列ベクトルを作りなさい</p>
<p>–</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="letsuse.html#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 3から60まで3ずつ増える数列</span></span>
<span id="cb60-2"><a href="letsuse.html#cb60-2" aria-hidden="true" tabindex="-1"></a>v7_ex <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">3</span>,<span class="dv">60</span>,<span class="at">by=</span><span class="dv">3</span>)</span>
<span id="cb60-3"><a href="letsuse.html#cb60-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-4"><a href="letsuse.html#cb60-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(v7_ex)</span></code></pre></div>
<pre><code>##  [1]  3  6  9 12 15 18 21 24 27 30 33 36 39 42 45 48 51 54 57 60</code></pre>
</div>
<div id="ベクトルを作る関数1" class="section level3" number="4.4.4">
<h3><span class="header-section-number">4.4.4</span> ベクトルを作る関数1</h3>
<p>同じ数値がたくさんあるベクトルを作りたい場合は<code>rep()</code>関数を使う</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="letsuse.html#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 5が100個ならぶベクトル</span></span>
<span id="cb62-2"><a href="letsuse.html#cb62-2" aria-hidden="true" tabindex="-1"></a>v8 <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">5</span>,<span class="dv">100</span>)</span>
<span id="cb62-3"><a href="letsuse.html#cb62-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(v8)</span></code></pre></div>
<pre><code>##   [1] 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5
##  [37] 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5
##  [73] 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5</code></pre>
<p>–</p>
<p>本当に100個出てるか？
ベクトルの要素の数を数える関数は<code>length</code></p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="letsuse.html#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(v8)</span></code></pre></div>
<pre><code>## [1] 100</code></pre>
</div>
<div id="ベクトル要素の参照" class="section level3" number="4.4.5">
<h3><span class="header-section-number">4.4.5</span> ベクトル要素の参照</h3>
<p>ベクトルのn個目の要素を参照したいときは角カッコを使う<code>[]</code></p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="letsuse.html#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co"># v7の3つ目の要素は6</span></span>
<span id="cb66-2"><a href="letsuse.html#cb66-2" aria-hidden="true" tabindex="-1"></a>v7[<span class="dv">3</span>]</span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="letsuse.html#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="co"># v7の2,3,5つ目の要素</span></span>
<span id="cb68-2"><a href="letsuse.html#cb68-2" aria-hidden="true" tabindex="-1"></a>v7[<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">5</span>)]</span></code></pre></div>
<pre><code>## [1]  4  6 10</code></pre>
</div>
</div>
<div id="リスト" class="section level2" number="4.5">
<h2><span class="header-section-number">4.5</span> リスト</h2>
<p>様々なベクトルやデータなどのオブジェクトをひとまとめにして扱うことができるのがリスト</p>
<p>リストは<code>list()</code>関数で作成する</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="letsuse.html#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="co"># aというオブジェクトに、文字列ベクトル、数値ベクトル、データが混ざって入っている。</span></span>
<span id="cb70-2"><a href="letsuse.html#cb70-2" aria-hidden="true" tabindex="-1"></a><span class="co"># カンマ, の後に改行しているが、listのかっこが閉じるまではひとまとまりだと扱われる。</span></span>
<span id="cb70-3"><a href="letsuse.html#cb70-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-4"><a href="letsuse.html#cb70-4" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb70-5"><a href="letsuse.html#cb70-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="cn">NA</span>, <span class="st">&quot;d&quot;</span>),</span>
<span id="cb70-6"><a href="letsuse.html#cb70-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">num =</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="fl">1.1</span>, <span class="dv">5</span>),</span>
<span id="cb70-7"><a href="letsuse.html#cb70-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> <span class="fu">head</span>(mtcars, <span class="dv">1</span>))</span>
<span id="cb70-8"><a href="letsuse.html#cb70-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-9"><a href="letsuse.html#cb70-9" aria-hidden="true" tabindex="-1"></a>a</span></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;a&quot; &quot;b&quot; NA  &quot;d&quot;
## 
## $num
## [1] 3.0 1.1 5.0
## 
## $data
##           mpg cyl disp  hp drat   wt  qsec vs am gear carb
## Mazda RX4  21   6  160 110  3.9 2.62 16.46  0  1    4    4</code></pre>
<div id="リストの参照" class="section level3" number="4.5.1">
<h3><span class="header-section-number">4.5.1</span> リストの参照</h3>
<p>リストの参照も角カッコでできる</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="letsuse.html#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="co"># リストの参照</span></span>
<span id="cb72-2"><a href="letsuse.html#cb72-2" aria-hidden="true" tabindex="-1"></a>a[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;a&quot; &quot;b&quot; NA  &quot;d&quot;</code></pre>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="letsuse.html#cb74-1" aria-hidden="true" tabindex="-1"></a>a[<span class="dv">2</span>]</span></code></pre></div>
<pre><code>## $num
## [1] 3.0 1.1 5.0</code></pre>
</div>
<div id="リストの参照-1" class="section level3" number="4.5.2">
<h3><span class="header-section-number">4.5.2</span> リストの参照</h3>
<p>リストの中身のみを取り出したい場合は、二重括角カッコを使う<code>[[]]</code></p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="letsuse.html#cb76-1" aria-hidden="true" tabindex="-1"></a>a[[<span class="dv">3</span>]]</span></code></pre></div>
<pre><code>##           mpg cyl disp  hp drat   wt  qsec vs am gear carb
## Mazda RX4  21   6  160 110  3.9 2.62 16.46  0  1    4    4</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="howtostart.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="packages.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/04_r_calc.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["r_basics_musashi.pdf", "r_basics_musashi.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
